<div class="container mt-4 history-dashboard-page">
  <div class="d-flex justify-content-between align-items-center mb-2 history-header-row">
    <h2 class="mb-0">AI Estimation History</h2>
    <button type="button" class="btn btn-outline-secondary btn-sm history-back-btn" (click)="goBackToDashboard()">
    Back to Home
    </button>
  </div>
  <p class="text-muted small mb-3">
    Timeline of AI-generated estimations, accuracy trends, model comparison, explainability impact, human-in-the-loop, and stability.
  </p>

  <!-- Tabs card with pill-style buttons for each history view -->
  <div class="history-tabs-card">
    <ul class="nav nav-pills mb-0 history-tabs justify-content-center">
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'history'" (click)="setActive('history')">
          Estimation History
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'accuracy'" (click)="setActive('accuracy')">
          Accuracy Trend
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'comparison'" (click)="setActive('comparison')">
          Model Comparison
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'explainability'" (click)="setActive('explainability')">
          Explainability Impact
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'human'" (click)="setActive('human')">
          Human-in-the-Loop
        </button>
      </li>
      <li class="nav-item">
        <button type="button" class="nav-link" [class.active]="activeView === 'stability'" (click)="setActive('stability')">
          Stability &amp; Variance
        </button>
      </li>
    </ul>
  </div>

  <!-- Active content below the tabs -->
  <div class="history-content mt-3">
    <ng-container [ngSwitch]="activeView">
      <app-estimation-history *ngSwitchCase="'history'"></app-estimation-history>
      <app-accuracy-trend *ngSwitchCase="'accuracy'"></app-accuracy-trend>
      <app-model-comparison *ngSwitchCase="'comparison'"></app-model-comparison>
      <app-explainability-impact *ngSwitchCase="'explainability'"></app-explainability-impact>
      <app-human-in-loop *ngSwitchCase="'human'"></app-human-in-loop>
      <app-stability-variance *ngSwitchCase="'stability'"></app-stability-variance>
    </ng-container>
  </div>
</div>
