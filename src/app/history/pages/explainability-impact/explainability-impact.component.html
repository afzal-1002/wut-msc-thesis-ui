<div class="card shadow-sm">
  <div class="card-body">
    <h5 class="card-title mb-2">Explainability Impact</h5>
    <p class="text-muted small mb-2">Average estimation error and latency with vs without explanations.</p>

    <div *ngIf="isLoading" class="small text-muted">Loading explainability impact...</div>
    <div *ngIf="error" class="small text-danger">{{ error }}</div>

    <ng-container *ngIf="!isLoading && !error && results?.length">
      <app-bar-comparison-chart [labels]="barLabels" [values]="barValues"></app-bar-comparison-chart>

      <div class="small text-muted mt-2">
        <div>
          With explanation: ~{{ latencySummary.withMs | number: '1.0-0' }} ms average response time
        </div>
        <div>
          Without explanation: ~{{ latencySummary.withoutMs | number: '1.0-0' }} ms average response time
        </div>
      </div>
    </ng-container>

    <div *ngIf="!isLoading && !error && !results?.length" class="small text-muted">
      No explainability impact history available.
    </div>
  </div>
</div>
