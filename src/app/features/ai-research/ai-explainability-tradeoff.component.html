<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-2 explain-header-row">
      <h5 class="card-title mb-0">Explainability Trade-off</h5>
      <button type="button" class="btn btn-outline-secondary btn-sm explain-back-btn" (click)="goBack()">
        Back to Home
      </button>
    </div>

    <p class="text-muted small mb-1">
      Evaluates the trade-off between explanation quality and latency when enabling or disabling explanation generation.
    </p>

    <div *ngIf="isLoading" class="small text-muted">Loading explainability analysis...</div>
    <div *ngIf="error" class="text-danger small">{{ error }}</div>

    <div *ngIf="result">
      <app-grouped-bar-chart
        [categories]="labels"
        [seriesALabel]="'Quality score'"
        [seriesBLabel]="'Latency (s)'"
        [seriesAValues]="qualityValues"
        [seriesBValues]="latencyValues">
      </app-grouped-bar-chart>

      <p class="chart-caption small text-muted mt-2">
        Figure: Grouped bar chart showing explainability trade-off between engineering quality score and response latency for explanation-enabled vs disabled runs.
      </p>

      <h6 class="mt-3">Raw Explainability Metrics</h6>
      <pre class="small bg-light p-2 border rounded">{{ result | json }}</pre>
    </div>
  </div>
</div>
