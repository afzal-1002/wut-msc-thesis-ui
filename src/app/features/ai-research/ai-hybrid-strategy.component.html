<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-2 hybrid-header-row">
      <h5 class="card-title mb-0">Hybrid Strategy Recommendation</h5>
      <button type="button" class="btn btn-outline-secondary btn-sm hybrid-back-btn" (click)="goBack()">
        Back to Home
      </button>
    </div>

    <p class="text-muted small mb-3">
      Summarises the recommended hybrid AI estimation pipeline and its industry motivation.
    </p>

    <div *ngIf="isLoading" class="small text-muted">Loading hybrid strategy...</div>
    <div *ngIf="error" class="text-danger small">{{ error }}</div>

    <div *ngIf="result">
      <h6>Recommended Pipeline</h6>
      <p class="small" *ngIf="result.pipelineDescription">{{ result.pipelineDescription }}</p>

    <ul class="small mb-0" *ngIf="result.recommendedPipeline || result.detailedAnalysisModel || result.fastEstimationModel">
      <li *ngIf="result.recommendedPipeline"><strong>Pipeline:</strong> {{ result.recommendedPipeline }}</li>
      <li *ngIf="result.detailedAnalysisModel"><strong>Detailed analysis model:</strong> {{ result.detailedAnalysisModel }}</li>
      <li *ngIf="result.fastEstimationModel"><strong>Fast estimation model:</strong> {{ result.fastEstimationModel }}</li>
    </ul>

      <h6 class="mt-3">Industry Use Case</h6>
      <p class="small" *ngIf="result.industryUseCase">{{ result.industryUseCase }}</p>

      <h6 class="mt-3">Flow (textual diagram)</h6>
      <pre class="small bg-light p-2 border rounded" *ngIf="result.flowDiagram">{{ result.flowDiagram }}</pre>

      <h6 class="mt-3">Raw Hybrid Strategy Payload</h6>
      <pre class="small bg-light p-2 border rounded">{{ result | json }}</pre>
    </div>
  </div>
</div>
