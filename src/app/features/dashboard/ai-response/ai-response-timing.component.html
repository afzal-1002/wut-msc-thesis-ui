<!-- Card 2: Timing heading and buttons -->
<div class="ai-timing-btn-group mb-4" style="max-width: 420px; margin: 0 auto; border-radius: 2rem; background: #fff; box-shadow: 0 2px 12px rgba(0,0,0,0.04); border: 1.5px solid #e5e7eb;">
  <ul class="nav nav-pills small ai-comparison-tabs mb-0 justify-content-center" style="list-style: none; padding-left: 0;">
    <li class="nav-item">
      <button class="nav-link ai-timing-btn-custom"
              [class.active]="activeResponseView === 'stats'"
              (click)="setActiveResponseView('stats')">
        Stats
      </button>
    </li>
    <li class="nav-item">
      <button class="nav-link ai-timing-btn-custom"
              [class.active]="activeResponseView === 'summary'"
              (click)="setActiveResponseView('summary')">
        Extremes
      </button>
    </li>
  </ul>
</div>

<!-- Radar Chart for Multi-metric Comparison -->
<div *ngIf="activeResponseView === 'stats' && responseTimeStats && !responseTimeError" class="thesis-bar-chart mt-4">
  <div class="row">
    <div class="col-12">
      <h6 class="text-center mb-2">Multi-metric Comparison</h6>
      <canvas baseChart
        [data]="radarChartData"
        [options]="radarChartOptions"
        type="radar"
        style="min-height: 320px; max-width: 100%;"></canvas>
    </div>
  </div>
</div>

<!-- Line Chart Placeholder (requires time series data) -->
<div *ngIf="activeResponseView === 'stats' && responseTimeStats && !responseTimeError" class="thesis-bar-chart mt-4">
  <div class="row">
    <div class="col-12">
      <h6 class="text-center mb-2">Response Time Over Time</h6>
      <div class="alert alert-info small">Time series data not available in current API response.</div>
      <canvas baseChart
        [data]="lineChartData"
        [options]="lineChartOptions"
        type="line"
        style="min-height: 320px; max-width: 100%;"></canvas>
    </div>
  </div>
</div>

<!-- Box Plot (Grouped Bar) Chart for Min/Max/StdDev -->
<div *ngIf="activeResponseView === 'stats' && responseTimeStats && !responseTimeError" class="thesis-bar-chart mt-4">
  <div class="row">
    <div class="col-12">
      <h6 class="text-center mb-2">Min Max StdDev</h6>
      <canvas baseChart
        [data]="boxChartData"
        [options]="boxChartOptions"
        type="bar"
        style="min-height: 320px; max-width: 100%;"></canvas>
    </div>
  </div>
</div>

<div style="max-width: 600px; margin: 0 auto;">
  <div *ngIf="isLoadingResponseTime" class="small text-muted mb-1">Calling response-time API...</div>
  <div *ngIf="responseTimeError" class="alert alert-danger py-1 small">{{ responseTimeError }}</div>
  <!-- Stats Bar Chart (ng2-charts) -->
  <div *ngIf="activeResponseView === 'stats' && responseTimeStats && !responseTimeError" class="thesis-bar-chart mt-3">
    <div class="row">
      <div class="col-12">
        <h6 class="text-center mb-2">Average Response Time by Model</h6>
        <canvas baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          type="bar"
          style="min-height: 320px; max-width: 100%;"></canvas>
        <div class="text-center text-muted mt-2" style="font-size: 0.97em;">
          <em>Figure: This bar chart displays the mean response time (in seconds) for each AI model, allowing for a direct comparison of their typical performance.</em>
        </div>
      </div>
    </div>
  </div>
  <!-- Extremes Text Summary -->
  <div *ngIf="activeResponseView === 'summary' && responseTimeSummary && !responseTimeError" class="mt-3">
    <div class="alert alert-info p-2">
      <div><strong>Recommendation:</strong> {{ responseTimeSummary.recommendation }}</div>
      <div><strong>Fastest Model:</strong> {{ responseTimeSummary.fastestModel }}</div>
      <div><strong>Slowest Model:</strong> {{ responseTimeSummary.slowestModel }}</div>
    </div>
  </div>
</div>
