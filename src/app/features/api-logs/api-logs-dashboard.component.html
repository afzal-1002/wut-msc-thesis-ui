<div class="api-logs-container">
  <!-- Header -->
  <div class="logs-header">
    <div class="header-content">
      <h2 class="page-title">ğŸ“Š API Logs Dashboard</h2>
      <p class="page-subtitle">Monitor and analyze API calls and errors across the application</p>
    </div>
    <button class="btn btn-secondary" (click)="goBackToDashboard()">Back to Dashboard</button>
  </div>

  <!-- View Selector Tabs -->
  <div class="view-tabs" *ngIf="activeView !== 'details'">
    <button
      class="tab-button"
      [class.active]="activeView === 'list'"
      (click)="switchToListView()"
    >
      ğŸ“‹ All Logs
    </button>
    <button
      class="tab-button"
      [class.active]="activeView === 'failed'"
      (click)="switchToFailedView()"
    >
      âŒ Failed Requests
    </button>
    <button
      class="tab-button"
      [class.active]="activeView === 'filter'"
      (click)="switchToFilterView()"
    >
      ğŸ” Advanced Filter
    </button>
  </div>

  <!-- Error Messages -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    <strong>Error:</strong> {{ errorMessage }}
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading API logs...</p>
  </div>

  <!-- Main Content Area -->
  <div *ngIf="!isLoading" class="content-area">
    <!-- Details View -->
    <div *ngIf="activeView === 'details' && selectedLog">
      <app-api-log-details [log]="selectedLog" (closeDetails)="closeDetails()"></app-api-log-details>
    </div>

    <!-- Filter View -->
    <div *ngIf="activeView === 'filter'">
      <app-api-logs-filter (filterApplied)="onFilterApplied($event)"></app-api-logs-filter>
    </div>

    <!-- Failed Logs View -->
    <div *ngIf="activeView === 'failed'">
      <app-api-logs-failed [logs]="filteredLogs"></app-api-logs-failed>
    </div>

    <!-- All Logs View -->
    <div *ngIf="activeView === 'list'">
      <app-api-logs-list [logs]="filteredLogs" (logSelected)="viewLogDetails($event)"></app-api-logs-list>
    </div>
  </div>

  <!-- Summary Stats (optional) -->
  <div *ngIf="!isLoading && filteredLogs.length > 0 && activeView !== 'details'" class="stats-summary">
    <div class="stat-card">
      <span class="stat-label">Total Requests:</span>
      <span class="stat-value">{{ filteredLogs.length }}</span>
    </div>
    <div class="stat-card">
      <span class="stat-label">Failed:</span>
      <span class="stat-value error">{{ getFailedCount() }}</span>
    </div>
    <div class="stat-card">
      <span class="stat-label">Success Rate:</span>
      <span class="stat-value">{{ getSuccessRate().toFixed(1) }}%</span>
    </div>
  </div>
</div>
